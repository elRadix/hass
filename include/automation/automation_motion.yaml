---
- id: motion_01
  alias: Motion Detection - Hall Light on
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id: binary_sensor.motion_inkomhal
    to: 'on'
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: switch.easyplus
        state: 'on'
      - condition: template
        value_template: "{{ states.sensor.period_of_day.state != 'day' }}"
      - condition: state
        entity_id: automation.auto_off_day
        state: 'off'
  action:
  - service: homeassistant.turn_on
    entity_id: switch.light_vestiare

- id: motion_02
  alias: Motion Detection - Hall Light off
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id:  binary_sensor.motion_inkomhal
    to: 'off'
    for: '00:00:30'
  action:
  - service: homeassistant.turn_off
    entity_id:  switch.light_vestiare

- id: motion_03
  alias: Motion Detection - Dinner Light on
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id: binary_sensor.motion_eetkamer
    to: 'on'
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: switch.easyplus
        state: 'on'
      - condition: template
        value_template: "{{ states.sensor.period_of_day.state != 'day' }}"
      - condition: state
        entity_id: automation.auto_off_day
        state: 'off'
  action:
  - service: homeassistant.turn_on
    entity_id: switch.light_eetkamer_center

- id: motion_dinner_off
  alias: Motion Detection - Dinner Light off
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id:  binary_sensor.motion_eetkamer
    to: 'off'
    for: '00:03:00'
  action:
  - service: homeassistant.turn_off
    entity_id: switch.light_eetkamer_center

- id: motion_04
  alias: Motion Detection - Bad Light on
  initial_state: 'true'
  trigger: 
  - platform: state
    entity_id: binary_sensor.motion_badkamer
    to: 'on'
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: switch.easyplus
        state: 'on'
      - condition: template
        value_template: "{{ states.sensor.period_of_day.state != 'day' }}"
      - condition: state
        entity_id: automation.auto_off_day
        state: 'off'
  action:
  - service: homeassistant.turn_on
    entity_id: switch.light_badkamer_spiegel

- id: motion_05
  alias: Motion Detection - Bad Light off
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id:  binary_sensor.motion_badkamer
    to: 'off'
    for: '00:03:00'
  action:
  - service: homeassistant.turn_off
    entity_id: switch.light_badkamer_spiegel

- id: motion_trap_on
  initial_state: 'true'
  alias: Motion Detection - Trap Light on
  trigger:
  - platform: state
    entity_id: binary_sensor.motion_traphal
    to: 'on'
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: switch.easyplus
        state: 'on'
      - condition: state
        entity_id: automation.auto_off_day
        state: 'off'
      - condition: template
        value_template: "{{ states.sensor.period_of_day.state != 'day' }}"
  action:
  - service: homeassistant.turn_on
    entity_id: group.trap_light

- id: motion_06
  initial_state: 'true'
  alias: Motion Detection - Trap Light off
  trigger: 
  - platform: state
    entity_id:  binary_sensor.motion_traphal
    to: 'off'
    for: '00:00:15'
  action:
  - service: homeassistant.turn_off
    entity_id: group.trap_light

- id: motion_07
  initial_state: 'true'
  alias: Motion Detection - WC off
  trigger: 
  - platform: state
    entity_id: binary_sensor.motion_wc
    to: 'off'
    for: '00:01:00'
  action:
  - service: homeassistant.turn_off
    entity_id: switch.light_wc
